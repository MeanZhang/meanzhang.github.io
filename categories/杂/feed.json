{
    "version": "https://jsonfeed.org/version/1",
    "title": "Mean 个人博客 • All posts by \"杂\" category",
    "description": "Mean 个人博客",
    "home_page_url": "https://blog.meancoder.xyz",
    "items": [
        {
            "id": "https://blog.meancoder.xyz/2022/WoA-experience/",
            "url": "https://blog.meancoder.xyz/2022/WoA-experience/",
            "title": "Windows on Arm 初体验",
            "date_published": "2022-08-23T04:25:06.000Z",
            "content_html": "<p>之前报名了荣耀神机营的 PC\n项目，本来是想着如果申请到了，旧笔记本就放在实验室，宿舍用新品。但是没想到新品是个二合一，还是\nWindows on Arm (WoA)的，这篇文章就是在这台机器上写的。</p>\n<figure>\n<img data-src=\"https://img1.meancoder.xyz/notes/others/matebook-e-go.jpg\"\nalt=\"MateBook E Go\" />\n<figcaption aria-hidden=\"true\">MateBook E Go</figcaption>\n</figure>\n<span id=\"more\"></span>\n<p>首先介绍一下，这块平板就是之前有人爆料的 MateBook E Go\n了，听名字就让人想到 Surface Go\n了。和我以前参加神机营的经历一样，这台机器也不是高端产品。之前爆料说这台机器搭载骁龙\n8cx Gen3，但是拿到手的是 Gen2，内存 16G，屏幕是 2K\n的，看着还不错。有两个 Type-C 接口，一个 3.5mm\n耳机口，双扬声器，指纹识别集成在电源键上。相机感觉和普通笔记本一个水平。配了一个\n65W 的充电器。</p>\n<p>体验几天下来，说一说感受吧。</p>\n<p>首先性能不太行，骁龙和 M1 相比差了一大截，不插电看 B\n站都卡，系统操作也不流畅。这个表现当日常主力使用肯定是不够的。但是 ARM\n续航不错，外出携带很方便，临时码个字，简单写个代码也还是可以的。</p>\n<p>外设方面，这次给配了一个皮套键盘和支架，可以通过触点连接，拿掉后也可以通过蓝牙连接，这个倒是挺方便的。但是这个键盘的\nFn\n键有点问题，热键模式下热键没法用，组合键和响应的还是单键的功能，不知道是设计如此还是\nbug。这一点对于经常使用功能键的我还是有很大影响的。支架的调节范围也挺大的，目测最大可以到\n140 度左右，挺不错的。</p>\n<p>生态方面，ARM 真的差太多了，甚至预装的华为电脑管家都还是 x64\n的。虽然现在可以转译 x86 和 x64\n应用，但是原生的还是会好一些，转译的多多少少会有一些问题。比如迅雷经常会闪退，Traffic\nMonitor 不会开机自启，微信今天也遇到了在窗口内鼠标消失的问题。</p>\n<p>作为半个程序员，常用的 IDE 和 SDK\n肯定是要装一下的。机器到手就马上装了 WSL、WSA、VS\nCode，单独开都还挺好，但是同时开就会很卡。JDK 装了微软的 ARM 版，Python\n3.10 的 RC 版也支持了 ARM，NodeJS 官方还没有 ARM\n版，第三方的又太旧了。IDEA 和 Android 都是 x64 的，比较卡。git 也是 x64\n的，在 VS Code 里用起来非常卡。最近 VS 预览版也支持 ARM\n了，装了一个，启动有点慢，用起来还行，顺手就编译了一个 ARM 版的 Traffic\nMonitor，但是任务栏窗口无法交互，还是等作者更新吧。</p>\n<p>最近 Fleet 也公测了，可惜也是没有 ARM\n版，而且基本上没啥用，还是等更新吧。</p>\n<hr />\n<p>最后附上目前装的 ARM 版软件：</p>\n<table>\n<thead>\n<tr class=\"header\">\n<th>软件</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"odd\">\n<td>Bandizip</td>\n<td></td>\n</tr>\n<tr class=\"even\">\n<td>Bitwarden</td>\n<td></td>\n</tr>\n<tr class=\"odd\">\n<td>Clash for Windows</td>\n<td></td>\n</tr>\n<tr class=\"even\">\n<td>Everything</td>\n<td>便携版</td>\n</tr>\n<tr class=\"odd\">\n<td>Edge</td>\n<td></td>\n</tr>\n<tr class=\"even\">\n<td>Firefox</td>\n<td></td>\n</tr>\n<tr class=\"odd\">\n<td>PowerToys</td>\n<td></td>\n</tr>\n<tr class=\"even\">\n<td>Typora</td>\n<td></td>\n</tr>\n<tr class=\"odd\">\n<td>Traffic Monitor</td>\n<td>自己编译</td>\n</tr>\n<tr class=\"even\">\n<td>VS Code</td>\n<td></td>\n</tr>\n<tr class=\"odd\">\n<td>WSL</td>\n<td></td>\n</tr>\n</tbody>\n</table>\n",
            "tags": [
                "杂"
            ]
        },
        {
            "id": "https://blog.meancoder.xyz/2022/buaa-ai-schedule-develop/",
            "url": "https://blog.meancoder.xyz/2022/buaa-ai-schedule-develop/",
            "title": "小爱课程表课程导入开发实践",
            "date_published": "2022-02-07T09:24:57.000Z",
            "content_html": "<p><a href=\"https://github.com/MeanZhang/buaa-ai-schedule\"><img data-src=\"https://api.meancoder.xyz/schedule\" alt=\"使用人数\" /></a></p>\n<p>MIUI\n的小爱同学内置小爱课程表，可以从学校的教务系统自动导入课程信息，非常实用。可惜我们学校没有适配，索性我就自己写了一下，顺便练练手。</p>\n<p>代码已经上传到 <a\nhref=\"https://github.com/MeanZhang/buaa-ai-schedule\">Github</a>\n了，只有三个文件，<a\nhref=\"https://open-schedule-prod.ai.xiaomi.com/docs/#/help/\">开发者文档</a>有详细说明，这里就贴一下代码。</p>\n<span id=\"more\"></span>\n<div class=\"tabs\" id=\"小爱课程表\"><ul class=\"nav-tabs\"><li class=\"tab active\"><a href=\"#小爱课程表-1\">scheduleHtmlProvider.js</a></li><li class=\"tab\"><a href=\"#小爱课程表-2\">scheduleHtmlParser.js</a></li><li class=\"tab\"><a href=\"#小爱课程表-3\">scheduleTimer.js</a></li></ul><div class=\"tab-content\"><div class=\"tab-pane active\" id=\"小爱课程表-1\"><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">async</span> <span class=\"keyword\">function</span> <span class=\"title function_\">scheduleHtmlProvider</span>(<span class=\"params\"></span></span><br><span class=\"line\"><span class=\"params\">  iframeContent = <span class=\"string\">&quot;&quot;</span>,</span></span><br><span class=\"line\"><span class=\"params\">  frameContent = <span class=\"string\">&quot;&quot;</span>,</span></span><br><span class=\"line\"><span class=\"params\">  dom = <span class=\"variable language_\">document</span></span></span><br><span class=\"line\"><span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">await</span> <span class=\"title function_\">loadTool</span>(<span class=\"string\">&quot;AIScheduleTools&quot;</span>);</span><br><span class=\"line\">  <span class=\"comment\">// 使用它们的时候务必带上await，否则没有系统alert的时停效果</span></span><br><span class=\"line\">  <span class=\"keyword\">await</span> <span class=\"title class_\">AIScheduleAlert</span>(</span><br><span class=\"line\">    <span class=\"string\">&quot;开始导入……\\n完成后请手动修改开学时间\\n如导入出错或有其他建议请联系QQ：390602272&quot;</span></span><br><span class=\"line\">  );</span><br><span class=\"line\">  <span class=\"keyword\">let</span> iframe = dom.<span class=\"title function_\">getElementsByTagName</span>(<span class=\"string\">&quot;iframe&quot;</span>)[<span class=\"number\">0</span>].<span class=\"property\">contentDocument</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> table = iframe.<span class=\"title function_\">getElementsByClassName</span>(<span class=\"string\">&quot;xfyq_area mt10&quot;</span>)[<span class=\"number\">0</span>].<span class=\"property\">outerHTML</span>;</span><br><span class=\"line\">  <span class=\"comment\">// console.info(table)</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> table;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></div><div class=\"tab-pane\" id=\"小爱课程表-2\"><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">scheduleHtmlParser</span>(<span class=\"params\">html</span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * 提取课程周数</span></span><br><span class=\"line\"><span class=\"comment\">   * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">string</span>&#125; str 包含周数的字符串，如`[1-9，11]`、`12，14`</span></span><br><span class=\"line\"><span class=\"comment\">   * <span class=\"doctag\">@returns</span> &#123;<span class=\"type\">Array&lt;number&gt;</span>&#125; 包含`str`中所有周数的数组</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  <span class=\"keyword\">function</span> <span class=\"title function_\">getWeeks</span>(<span class=\"params\">str</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> weeks = [];</span><br><span class=\"line\">    str = str.<span class=\"title function_\">split</span>(<span class=\"string\">&quot;[&quot;</span>)[<span class=\"number\">1</span>].<span class=\"title function_\">split</span>(<span class=\"string\">&quot;]&quot;</span>)[<span class=\"number\">0</span>];</span><br><span class=\"line\">    <span class=\"keyword\">let</span> weekArray = str.<span class=\"title function_\">split</span>(<span class=\"string\">&quot;，&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i <span class=\"keyword\">in</span> weekArray) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> begin = weekArray[i].<span class=\"title function_\">split</span>(<span class=\"string\">&quot;-&quot;</span>)[<span class=\"number\">0</span>];</span><br><span class=\"line\">      <span class=\"keyword\">let</span> end = weekArray[i].<span class=\"title function_\">split</span>(<span class=\"string\">&quot;-&quot;</span>)[<span class=\"number\">1</span>];</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (!end) &#123;</span><br><span class=\"line\">        end = begin;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> j = <span class=\"built_in\">parseInt</span>(begin); j &lt;= <span class=\"built_in\">parseInt</span>(end); j++) &#123;</span><br><span class=\"line\">        weeks.<span class=\"title function_\">push</span>(j);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> weeks;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * 提取课程节数</span></span><br><span class=\"line\"><span class=\"comment\">   * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">string</span>&#125; str 包含节数的字符串，如`第8，9节`</span></span><br><span class=\"line\"><span class=\"comment\">   * <span class=\"doctag\">@returns</span> &#123;<span class=\"type\">Array&lt;number&gt;</span>&#125; 包含`str`中所有节数的数组</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  <span class=\"keyword\">function</span> <span class=\"title function_\">getSections</span>(<span class=\"params\">str</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> sections = [];</span><br><span class=\"line\">    str = <span class=\"regexp\">/第(.+?)节/g</span>.<span class=\"title function_\">exec</span>(str)[<span class=\"number\">0</span>].<span class=\"title function_\">replace</span>(<span class=\"string\">&quot;第&quot;</span>, <span class=\"string\">&quot;&quot;</span>).<span class=\"title function_\">replace</span>(<span class=\"string\">&quot;节&quot;</span>, <span class=\"string\">&quot;&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">let</span> sectionArray = str.<span class=\"title function_\">split</span>(<span class=\"string\">&quot;，&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i <span class=\"keyword\">in</span> sectionArray) &#123;</span><br><span class=\"line\">      sections.<span class=\"title function_\">push</span>(<span class=\"built_in\">parseInt</span>(sectionArray[i].<span class=\"title function_\">replace</span>(<span class=\"regexp\">/[^0-9]/gi</span>, <span class=\"string\">&quot;&quot;</span>)));</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> sections;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * 获取单节课程信息</span></span><br><span class=\"line\"><span class=\"comment\">   * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">string</span>&#125; lessonName 课程名</span></span><br><span class=\"line\"><span class=\"comment\">   * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">number</span>&#125; day 星期</span></span><br><span class=\"line\"><span class=\"comment\">   * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">string</span>&#125; info 课程信息字符串</span></span><br><span class=\"line\"><span class=\"comment\">   * <span class=\"doctag\">@returns</span> &#123;<span class=\"type\">object</span>&#125; 课程信息</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  <span class=\"keyword\">function</span> <span class=\"title function_\">getLesson</span>(<span class=\"params\">lessonName, day, info</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> lesson = &#123; <span class=\"attr\">sections</span>: <span class=\"title function_\">getSections</span>(info), <span class=\"attr\">weeks</span>: <span class=\"title function_\">getWeeks</span>(info) &#125;;</span><br><span class=\"line\">    lesson.<span class=\"property\">name</span> = lessonName;</span><br><span class=\"line\">    lesson.<span class=\"property\">day</span> = day;</span><br><span class=\"line\">    lesson.<span class=\"property\">teacher</span> = info.<span class=\"title function_\">split</span>(<span class=\"string\">&quot;[&quot;</span>)[<span class=\"number\">0</span>].<span class=\"title function_\">replace</span>(<span class=\"regexp\">/\\s+/g</span>, <span class=\"string\">&quot;&quot;</span>); <span class=\"comment\">//去掉空格，多教师只提取第一个</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//提取教室</span></span><br><span class=\"line\">    tmp = info.<span class=\"title function_\">split</span>(<span class=\"string\">&quot;周&quot;</span>);</span><br><span class=\"line\">    lesson.<span class=\"property\">position</span> = tmp[tmp.<span class=\"property\">length</span> - <span class=\"number\">1</span>].<span class=\"title function_\">split</span>(<span class=\"string\">&quot;\\n&quot;</span>)[<span class=\"number\">0</span>];</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> lesson;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * 获取多节课程信息（同一课程被拆分为多节课）</span></span><br><span class=\"line\"><span class=\"comment\">   * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">string</span>&#125; lessonName 课程名</span></span><br><span class=\"line\"><span class=\"comment\">   * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">number</span>&#125; day 星期</span></span><br><span class=\"line\"><span class=\"comment\">   * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">string</span>&#125; info1 课程信息（不含教室，第一行）</span></span><br><span class=\"line\"><span class=\"comment\">   * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">string</span>&#125; info2 教室（第二行）</span></span><br><span class=\"line\"><span class=\"comment\">   * <span class=\"doctag\">@returns</span></span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  <span class=\"keyword\">function</span> <span class=\"title function_\">getLessons1</span>(<span class=\"params\">lessonName, day, info1, info2</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> lessons = [];</span><br><span class=\"line\">    <span class=\"keyword\">let</span> position = info2.<span class=\"title function_\">split</span>(<span class=\"string\">&quot;\\n&quot;</span>)[<span class=\"number\">0</span>];</span><br><span class=\"line\">    <span class=\"keyword\">let</span> sections = <span class=\"title function_\">getSections</span>(info2);</span><br><span class=\"line\">    <span class=\"keyword\">let</span> allWeeks = info1.<span class=\"title function_\">split</span>(<span class=\"string\">&quot;周，&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (i <span class=\"keyword\">in</span> allWeeks) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">let</span> lesson = &#123; <span class=\"attr\">sections</span>: sections, <span class=\"attr\">weeks</span>: <span class=\"title function_\">getWeeks</span>(allWeeks[i]) &#125;;</span><br><span class=\"line\">      lesson.<span class=\"property\">name</span> = lessonName;</span><br><span class=\"line\">      lesson.<span class=\"property\">day</span> = day;</span><br><span class=\"line\">      lesson.<span class=\"property\">teacher</span> = allWeeks[i].<span class=\"title function_\">split</span>(<span class=\"string\">&quot;[&quot;</span>)[<span class=\"number\">0</span>].<span class=\"title function_\">replace</span>(<span class=\"regexp\">/\\s+/g</span>, <span class=\"string\">&quot;&quot;</span>); <span class=\"comment\">//去掉空格</span></span><br><span class=\"line\">      lesson.<span class=\"property\">position</span> = position;</span><br><span class=\"line\">      lessons.<span class=\"title function_\">push</span>(lesson);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> lessons;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * 获取多节课程信息（同一老师不同教室， 如`张老师[10-13]周机房 第1，2节，[2-9]周（五）111 第1，2节`）</span></span><br><span class=\"line\"><span class=\"comment\">   * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">string</span>&#125; lessonName 课程名</span></span><br><span class=\"line\"><span class=\"comment\">   * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">number</span>&#125; day 星期</span></span><br><span class=\"line\"><span class=\"comment\">   * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">string</span>&#125; info 课程信息字符串</span></span><br><span class=\"line\"><span class=\"comment\">   * <span class=\"doctag\">@returns</span> &#123;<span class=\"type\">Array&lt;object&gt;</span>&#125; 课程信息</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  <span class=\"keyword\">function</span> <span class=\"title function_\">getLessons2</span>(<span class=\"params\">lessonName, day, info</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> lessons = [];</span><br><span class=\"line\">    <span class=\"keyword\">let</span> teacher = info.<span class=\"title function_\">split</span>(<span class=\"string\">&quot;[&quot;</span>)[<span class=\"number\">0</span>].<span class=\"title function_\">replace</span>(<span class=\"regexp\">/\\s+/g</span>, <span class=\"string\">&quot;&quot;</span>); <span class=\"comment\">//去掉空格</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> weekArray = info.<span class=\"title function_\">split</span>(<span class=\"string\">&quot;\\n&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">let</span> n = weekArray.<span class=\"property\">length</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; n - <span class=\"number\">1</span>; i++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">let</span> lesson = &#123;</span><br><span class=\"line\">        <span class=\"attr\">sections</span>: <span class=\"title function_\">getSections</span>(weekArray[i + <span class=\"number\">1</span>]),</span><br><span class=\"line\">        <span class=\"attr\">weeks</span>: <span class=\"title function_\">getWeeks</span>(weekArray[i]),</span><br><span class=\"line\">      &#125;;</span><br><span class=\"line\">      lesson.<span class=\"property\">name</span> = lessonName;</span><br><span class=\"line\">      lesson.<span class=\"property\">day</span> = day;</span><br><span class=\"line\">      lesson.<span class=\"property\">teacher</span> = teacher;</span><br><span class=\"line\">      lesson.<span class=\"property\">position</span> = weekArray[i].<span class=\"title function_\">split</span>(<span class=\"string\">&quot;周&quot;</span>)[<span class=\"number\">1</span>];</span><br><span class=\"line\">      lessons.<span class=\"title function_\">push</span>(lesson);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> lessons;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/** 课程信息 */</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> courseInfos = [];</span><br><span class=\"line\">  <span class=\"keyword\">const</span> lines = $(<span class=\"string\">&quot;.addlist_01&quot;</span>).<span class=\"title function_\">find</span>(<span class=\"string\">&quot;tr&quot;</span>); <span class=\"comment\">// 表的所有行</span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> l = <span class=\"number\">1</span>; l &lt;= <span class=\"number\">6</span>; l++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 1-6行为课程</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> linelessons = $(lines[l]).<span class=\"title function_\">find</span>(<span class=\"string\">&quot;td&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> day = <span class=\"number\">1</span>; day &lt;= <span class=\"number\">7</span>; day++) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// 1-7列为每一天</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> index = day + <span class=\"number\">1</span>; <span class=\"comment\">// 列标为天数+1</span></span><br><span class=\"line\">      <span class=\"keyword\">let</span> child = linelessons[index].<span class=\"property\">children</span>[<span class=\"number\">0</span>];</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (child.<span class=\"property\">data</span> !== <span class=\"string\">&quot;&amp;nbsp;&quot;</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">//时间段不为空</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> (child) &#123;</span><br><span class=\"line\">          <span class=\"comment\">//一个时间段可能有多个课程</span></span><br><span class=\"line\">          lessonName = child.<span class=\"property\">data</span>.<span class=\"title function_\">slice</span>(<span class=\"number\">0</span>, <span class=\"number\">49</span>); <span class=\"comment\">//课程名长度不能超过50字符</span></span><br><span class=\"line\">          <span class=\"comment\">// lessonName = child.data;</span></span><br><span class=\"line\">          child = child.<span class=\"property\">next</span>.<span class=\"property\">children</span>[<span class=\"number\">0</span>];</span><br><span class=\"line\">          <span class=\"keyword\">if</span> (child.<span class=\"property\">data</span>.<span class=\"title function_\">slice</span>(-<span class=\"number\">1</span>) === <span class=\"string\">&quot;节&quot;</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (child.<span class=\"property\">data</span>.<span class=\"title function_\">indexOf</span>(<span class=\"string\">&quot;，[&quot;</span>) === -<span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">              <span class=\"comment\">//同一教室不同老师</span></span><br><span class=\"line\">              courseInfos.<span class=\"title function_\">push</span>(<span class=\"title function_\">getLesson</span>(lessonName, day, child.<span class=\"property\">data</span>));</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">              <span class=\"comment\">//同一老师不同教室</span></span><br><span class=\"line\">              lessons = <span class=\"title function_\">getLessons2</span>(lessonName, day, child.<span class=\"property\">data</span>);</span><br><span class=\"line\">              <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i <span class=\"keyword\">in</span> lessons) &#123;</span><br><span class=\"line\">                courseInfos.<span class=\"title function_\">push</span>(lessons[i]);</span><br><span class=\"line\">              &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"comment\">//一个时间段可能有多个课程</span></span><br><span class=\"line\">            child = child.<span class=\"property\">next</span>;</span><br><span class=\"line\">          &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"comment\">//同一课程被拆分为多节课（两行）</span></span><br><span class=\"line\">            lessons = <span class=\"title function_\">getLessons1</span>(</span><br><span class=\"line\">              lessonName,</span><br><span class=\"line\">              day,</span><br><span class=\"line\">              child.<span class=\"property\">data</span>,</span><br><span class=\"line\">              child.<span class=\"property\">next</span>.<span class=\"property\">children</span>[<span class=\"number\">0</span>].<span class=\"property\">data</span></span><br><span class=\"line\">            );</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i <span class=\"keyword\">in</span> lessons) &#123;</span><br><span class=\"line\">              courseInfos.<span class=\"title function_\">push</span>(lessons[i]);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">//一个时间段可能有多个课程</span></span><br><span class=\"line\">            child = child.<span class=\"property\">next</span>.<span class=\"property\">children</span>[<span class=\"number\">0</span>].<span class=\"property\">next</span>;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          <span class=\"keyword\">if</span> (child) &#123;</span><br><span class=\"line\">            child = child.<span class=\"property\">children</span>[<span class=\"number\">0</span>];</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> courseInfos;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></div><div class=\"tab-pane\" id=\"小爱课程表-3\"><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * 时间配置函数，此为入口函数，不要改动函数名</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">async</span> <span class=\"keyword\">function</span> <span class=\"title function_\">scheduleTimer</span>(<span class=\"params\">&#123; providerRes, parserRes &#125; = &#123;&#125;</span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">//周数，包括两周考试周，春18秋19夏9</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> totalWeek = <span class=\"number\">19</span>;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (</span><br><span class=\"line\">    providerRes.<span class=\"title function_\">indexOf</span>(<span class=\"string\">&quot;春季学期&quot;</span>) &gt;= <span class=\"number\">0</span> &amp;&amp;</span><br><span class=\"line\">    providerRes.<span class=\"title function_\">indexOf</span>(<span class=\"string\">&quot;春季学期&quot;</span>) &lt; <span class=\"number\">150</span></span><br><span class=\"line\">  ) &#123;</span><br><span class=\"line\">    totalWeek = <span class=\"number\">18</span>;</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (</span><br><span class=\"line\">    providerRes.<span class=\"title function_\">indexOf</span>(<span class=\"string\">&quot;秋季学期&quot;</span>) &gt;= <span class=\"number\">0</span> &amp;&amp;</span><br><span class=\"line\">    providerRes.<span class=\"title function_\">indexOf</span>(<span class=\"string\">&quot;秋季学期&quot;</span>) &lt; <span class=\"number\">150</span></span><br><span class=\"line\">  ) &#123;</span><br><span class=\"line\">    totalWeek = <span class=\"number\">19</span>;</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    totalWeek = <span class=\"number\">9</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">//课程时间</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> sections = [</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"attr\">section</span>: <span class=\"number\">1</span>,</span><br><span class=\"line\">      <span class=\"attr\">startTime</span>: <span class=\"string\">&quot;08:00&quot;</span>,</span><br><span class=\"line\">      <span class=\"attr\">endTime</span>: <span class=\"string\">&quot;08:45&quot;</span>,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"attr\">section</span>: <span class=\"number\">2</span>,</span><br><span class=\"line\">      <span class=\"attr\">startTime</span>: <span class=\"string\">&quot;08:50&quot;</span>,</span><br><span class=\"line\">      <span class=\"attr\">endTime</span>: <span class=\"string\">&quot;09:35&quot;</span>,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"attr\">section</span>: <span class=\"number\">3</span>,</span><br><span class=\"line\">      <span class=\"attr\">startTime</span>: <span class=\"string\">&quot;09:50&quot;</span>,</span><br><span class=\"line\">      <span class=\"attr\">endTime</span>: <span class=\"string\">&quot;10:35&quot;</span>,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"attr\">section</span>: <span class=\"number\">4</span>,</span><br><span class=\"line\">      <span class=\"attr\">startTime</span>: <span class=\"string\">&quot;10:40&quot;</span>,</span><br><span class=\"line\">      <span class=\"attr\">endTime</span>: <span class=\"string\">&quot;11:25&quot;</span>,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"attr\">section</span>: <span class=\"number\">5</span>,</span><br><span class=\"line\">      <span class=\"attr\">startTime</span>: <span class=\"string\">&quot;11:30&quot;</span>,</span><br><span class=\"line\">      <span class=\"attr\">endTime</span>: <span class=\"string\">&quot;12:15&quot;</span>,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"attr\">section</span>: <span class=\"number\">6</span>,</span><br><span class=\"line\">      <span class=\"attr\">startTime</span>: <span class=\"string\">&quot;14:00&quot;</span>,</span><br><span class=\"line\">      <span class=\"attr\">endTime</span>: <span class=\"string\">&quot;14:45&quot;</span>,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"attr\">section</span>: <span class=\"number\">7</span>,</span><br><span class=\"line\">      <span class=\"attr\">startTime</span>: <span class=\"string\">&quot;14:50&quot;</span>,</span><br><span class=\"line\">      <span class=\"attr\">endTime</span>: <span class=\"string\">&quot;15:35&quot;</span>,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"attr\">section</span>: <span class=\"number\">8</span>,</span><br><span class=\"line\">      <span class=\"attr\">startTime</span>: <span class=\"string\">&quot;15:50&quot;</span>,</span><br><span class=\"line\">      <span class=\"attr\">endTime</span>: <span class=\"string\">&quot;16:35&quot;</span>,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"attr\">section</span>: <span class=\"number\">9</span>,</span><br><span class=\"line\">      <span class=\"attr\">startTime</span>: <span class=\"string\">&quot;16:40&quot;</span>,</span><br><span class=\"line\">      <span class=\"attr\">endTime</span>: <span class=\"string\">&quot;17:25&quot;</span>,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"attr\">section</span>: <span class=\"number\">10</span>,</span><br><span class=\"line\">      <span class=\"attr\">startTime</span>: <span class=\"string\">&quot;17:30&quot;</span>,</span><br><span class=\"line\">      <span class=\"attr\">endTime</span>: <span class=\"string\">&quot;18:15&quot;</span>,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"attr\">section</span>: <span class=\"number\">11</span>,</span><br><span class=\"line\">      <span class=\"attr\">startTime</span>: <span class=\"string\">&quot;19:00&quot;</span>,</span><br><span class=\"line\">      <span class=\"attr\">endTime</span>: <span class=\"string\">&quot;19:45&quot;</span>,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"attr\">section</span>: <span class=\"number\">12</span>,</span><br><span class=\"line\">      <span class=\"attr\">startTime</span>: <span class=\"string\">&quot;19:50&quot;</span>,</span><br><span class=\"line\">      <span class=\"attr\">endTime</span>: <span class=\"string\">&quot;20:35&quot;</span>,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"attr\">section</span>: <span class=\"number\">13</span>,</span><br><span class=\"line\">      <span class=\"attr\">startTime</span>: <span class=\"string\">&quot;20:40&quot;</span>,</span><br><span class=\"line\">      <span class=\"attr\">endTime</span>: <span class=\"string\">&quot;21:25&quot;</span>,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"attr\">section</span>: <span class=\"number\">14</span>,</span><br><span class=\"line\">      <span class=\"attr\">startTime</span>: <span class=\"string\">&quot;21:30&quot;</span>,</span><br><span class=\"line\">      <span class=\"attr\">endTime</span>: <span class=\"string\">&quot;22:15&quot;</span>,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  ];</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">    <span class=\"attr\">totalWeek</span>: totalWeek, <span class=\"comment\">// 总周数：[1, 30]之间的整数</span></span><br><span class=\"line\">    <span class=\"attr\">startSemester</span>: <span class=\"string\">&quot;&quot;</span>, <span class=\"comment\">// 开学时间：时间戳，13位长度字符串，推荐用代码生成</span></span><br><span class=\"line\">    <span class=\"attr\">startWithSunday</span>: <span class=\"literal\">false</span>, <span class=\"comment\">// 是否是周日为起始日，该选项为true时，会开启显示周末选项</span></span><br><span class=\"line\">    <span class=\"attr\">showWeekend</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// 是否显示周末</span></span><br><span class=\"line\">    <span class=\"attr\">forenoon</span>: <span class=\"number\">5</span>, <span class=\"comment\">// 上午课程节数：[1, 10]之间的整数</span></span><br><span class=\"line\">    <span class=\"attr\">afternoon</span>: <span class=\"number\">5</span>, <span class=\"comment\">// 下午课程节数：[0, 10]之间的整数</span></span><br><span class=\"line\">    <span class=\"attr\">night</span>: <span class=\"number\">4</span>, <span class=\"comment\">// 晚间课程节数：[0, 10]之间的整数</span></span><br><span class=\"line\">    <span class=\"attr\">sections</span>: sections, <span class=\"comment\">// 课程时间表，注意：总长度要和上边配置的节数加和对齐</span></span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></div></div></div>\n",
            "tags": [
                "JavaScript"
            ]
        },
        {
            "id": "https://blog.meancoder.xyz/2020/auto-duokan/",
            "url": "https://blog.meancoder.xyz/2020/auto-duokan/",
            "title": "多看阅读自动体验 APP 领书币",
            "date_published": "2020-11-19T14:23:34.000Z",
            "content_html": "<blockquote>\n<p><strong>本文仅用于记录自己的学习过程，严禁转载。</strong><br />\n<strong>为了避免不必要的纠纷，脚本代码已去除。</strong></p>\n</blockquote>\n<p>多看阅读一直都有体验 APP 领取书豆的活动，体验 30 秒 APP\n就可以免费领取 30\n书豆。不过以前每天只能领几次，今年国庆时开始每天可以领很多次，每天大约能领\n3000 个书豆（相当于 30 块），不过这样领下来要花很久。所以我就利用<a\nhref=\"https://github.com/hyb1996/Auto.js\">Auto.js</a>写了一个自动体验\nAPP 领取书豆的脚本，昨天写完，今天试了一下感觉不错。</p>\n<p>好久没写博客了，先水一篇，同时记录一下学习过程。最近打算再认真学一下\njs，把小爱课程表的自动导入写出来。</p>\n<span id=\"more\"></span>\n<p>第一次接触到<a\nhref=\"https://github.com/hyb1996/Auto.js\">Auto.js</a>还是 18\n年双十一，当时在酷安看到有人用这个自动领喵币，后来每次这种活动我都会用。国庆的时候我就想找个脚本自动领书豆，但是可能多看用户不多吧，一直没找到，当时也想自己写一个，但是又感觉比较复杂，就没有管。最近想买书了，就想着自己试着写一下。</p>\n<p>一开始我是直接写 js\n文件，然后传到手机上运行。后来觉得很麻烦，就看了看文档，找到了 VS Code\n插件，可以远程运行，方便了很多。</p>\n<p>本来这些体验 APP 我都没有同意用户协议，不想给权限，但是这样导致打开\nAPP 时会弹出用户协议，不能直接返回退出，甚至有些 APP\n不能点击退出。所以我就想把这些应用分下类，不同类 APP 进行不同操作。但是\nAPP 非常多，而且退出操作五花八门。索性我就同意了用户协议，不再给 APP\n分类，都可以通过返回退出。</p>\n<p>另外一个问题是多看的任务页面有很多任务，都有领取按钮，我用<code>findOne()</code>或者<code>findOnce()</code>会导致执行一次任务后找到的领取按钮是下一个任务。我就想找到所有任务，然后根据和任务名的相对位置找到按钮，可是执行一次后会找不到体验\nAPP\n任务的按钮（我也不知道怎么回事）。最后只好通过模拟点击来实现，不过这样在其他设备上用时可能要改动点击坐标。</p>\n",
            "tags": [
                "杂",
                "JavaScript",
                "Node.js"
            ]
        }
    ]
}